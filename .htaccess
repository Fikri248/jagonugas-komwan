Options -Indexes

RewriteEngine On
RewriteBase /jagonugas-native

# ===== BYPASS: Payment files - akses langsung tanpa routing =====
RewriteCond %{REQUEST_URI} ^/jagonugas-native/payment-.*\.php$ [NC]
RewriteRule ^ - [L]

# ===== File/folder exist - akses langsung =====
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# ===== Root request - pakai index.php =====
RewriteRule ^$ index.php [L]

# ===== Semua request lain - route ke app.php =====
RewriteRule ^(.+)$ app.php [QSA,L]

# ===== DEV ONLY: Disable cache untuk asset files =====
<IfModule mod_headers.c>
  <FilesMatch "\.(css|js|png|jpg|jpeg|gif|svg|webp|ico)$">
    Header always set Cache-Control "no-store, no-cache, max-age=0, must-revalidate"
    Header always set Pragma "no-cache"
    Header always set Expires "0"
  </FilesMatch>
</IfModule>
